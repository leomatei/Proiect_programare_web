<!DOCTYPE html>
<html lang="ro">
    <!-- varianta 4 -->
    <head>
		<script src="https://code.jquery.com/jquery-2.1.1.min.js" type="text/javascript"></script>
        <link rel="stylesheet" href="./styles/style.css">
        <title>Pesniue</title>
        <meta charset="UTF-8"/>
    </head>
    <header class="header">
        <a class="logo" href="./index.html">
            <img height="60" src="../images/logo.png" alt="logo">
        </a>
        <!-- <h1 class="title">Pensiune</h1> -->
        <nav class="menu">
            <div class="menu-item rooms-button">
                <span class='menu-item-title'>Camere</span>
                <ul class="list-of-rooms">
                    <li class="room"><a href="./rooms.html">toate camerele</a></li>
                    <li class="room">camera 1</li>
                    <li class="room">camera 2</li>
                    <li class="room">camera 3</li>
                    <li class="room">camera 4</li>
                    <li class="room">camera 5</li>
                    <li class="room">camera 6</li>
                </ul>
            </div>
            <div class="menu-item">
                <a href="./booking.html">rezerva o camera</a> 
            </div>
            <div class="menu-item">
                <a href="login.html">intra in cont</a>
            </div>
            <div class="menu-item">
                <a href="signup.html">creeaza un cont</a>
            </div>
            <div class="menu-button">
                <svg alt="buton meniu"xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M24 6h-24v-4h24v4zm0 4h-24v4h24v-4zm0 8h-24v4h24v-4z"/></svg>
            </div>
        </nav>
    </header>
    <main class="main-content">
        <ul id="special-list">
			<li class="special-item">
				<div>item1</div>
				<a href="#">read more</a>
			</li>
			<li class="special-item hidden">
				<div>item2</div>
				<a href="#">read more</a>
				</li>
			<li class="special-item hidden">
				<div>item3</div>
				<a href="#">read more</a>
			</li>
			
		</ul>
		<button onClick=getNext()>next</button>
		<button onClick=hideLast()>prev</button>
		<script>
			const listContent = document.getElementById('special-list').childNodes
			let timer = 4
			let timeouts=[]
			listContent.forEach(element=>{
				if (element !== document.getElementById('special-list').firstElementChild && element.classList){
					let id=setTimeout(()=>{
						element.classList.remove('hidden')
					},timer*1000)
					timeouts.push(id)
					timer=timer+4
				}
				
			})
			function getNext(){
				let ok=false
				listContent.forEach(element =>{
					if(element.classList){
						if(element.classList.contains('hidden') && !ok){
							element.classList.remove('hidden')
							ok=true
						}
					}
				})
			}
			function hideLast(){
				let ok=false
				var lastElement = false
				console.log(listContent)
				listContent.forEach(element =>{
					console.log(element)
					if(element.classList){
						if(element.classList.contains('hidden') && !ok && lastElement){
							lastElement.classList.add('hidden')
							timeouts.forEach(timeout=>{
								clearTimeout(timeout)
							})
							ok=true
						}
						else{
							lastElement = element
						}
					}
				})
				if(!ok){
				console.log(document.querySelectorAll('.special-item')[document.querySelectorAll('.special-item').length-1].classlist)
					document.querySelectorAll('.special-item')[document.querySelectorAll('.special-item').length-1].classList.add('hidden')
				}
			}
		</script>
		<script>
			function showContent(){
				if($('.content-to-show').hasClass('hidden')){
					$('.content-to-show').removeClass('hidden')
				} else {
					$('.content-to-show').addClass('hidden')
				}
			}
			function changeSelectedValue(newValue){
				console.log(newValue)
				console.log($('.selected-value')[0])
				$('.selected-value')[0].textContent=newValue
				showContent()
			}
			function searchItem(value){
				const results = $('.result')
				for(i=0;i<results.length;i++){
					if(results[i].textContent.includes(value)){
						if(results[i].classList.contains('hidden')){
							results[i].classList.remove('hidden')
						}
					} else {
						if(!results[i].classList.contains('hidden')){
							results[i].classList.add('hidden')
						}
					}
				}
				
			}
		</script>
        <div class="main-label">
			<div class="selected-value" onclick=showContent()>choose item</div>
			<div class="content-to-show hidden">
				<input class="search-content" name="searchContent" onkeyup=searchItem(this.value)>
				<div class="result" onclick=changeSelectedValue(this.textContent)>aaaa</div>
				<div class="result" onclick=changeSelectedValue(this.textContent)>bbbb</div>
				<div class="result" onclick=changeSelectedValue(this.textContent)>ccc</div>
				<div class="result" onclick=changeSelectedValue(this.textContent)>ddd</div>
				<div class="result" onclick=changeSelectedValue(this.textContent)>aaaccc</div>
				<div class="result" onclick=changeSelectedValue(this.textContent)>cddd</div>
			</div>
		</div>
    </main>
    <footer class="footer">
        <p class="text">(c) Matei Leonard</p>
        
        <div class="footer-element">
            <form class="footer-form">
                <p class="footer-form label">
                    Aboneaza-te la newsletter-ul nostru
                </p>
                <input 
                    class="footer-form input" 
                    type="email"   
                    placeholder="Introdu adresa ta de email"
                />
                <button class="footer-form button">confirma abonarea</button>
            </form>
        </div>
    </footer>
</html>